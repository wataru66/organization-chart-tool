<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Font Size Test</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    
    <style>
        .test-container {
            padding: 20px;
            background: #f0f0f0;
        }
        
        .test-box {
            margin: 20px;
            padding: 10px;
            background: white;
            border: 1px solid #ccc;
        }
        
        .css-var-display {
            font-family: monospace;
            background: #333;
            color: #0f0;
            padding: 10px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Font Size CSS Variable Test</h1>
        
        <div class="test-box">
            <h2>CSS Variable Values:</h2>
            <div id="cssVarDisplay" class="css-var-display"></div>
        </div>
        
        <div class="test-box">
            <h2>Font Size Controls:</h2>
            <select id="testFontSize">
                <option value="small">Small</option>
                <option value="medium" selected>Medium</option>
                <option value="large">Large</option>
            </select>
            <button onclick="updateFontSize()">Update Font Size</button>
        </div>
        
        <div class="test-box">
            <h2>Test Organization Box:</h2>
            <div class="org-box" style="position: relative; width: var(--org-box-width); height: var(--org-box-height);">
                <div class="org-header">Test Organization</div>
                <div class="org-content">
                    <div class="org-manager-role">Manager Role</div>
                    <div class="org-manager">Manager Name</div>
                    <div class="org-advisor-role">Advisor Role</div>
                    <div class="org-advisor">Advisor Name</div>
                </div>
            </div>
        </div>
        
        <div class="test-box">
            <h2>Computed Styles:</h2>
            <div id="computedStyles"></div>
        </div>
    </div>
    
    <script src="js/config.js"></script>
    <script>
        function displayCSSVariables() {
            const root = document.documentElement;
            const computed = getComputedStyle(root);
            
            const variables = [
                'font-size-org',
                'font-size-name', 
                'font-size-role',
                'org-box-width',
                'org-box-height'
            ];
            
            let display = 'Current CSS Variables:\n';
            variables.forEach(varName => {
                const value = computed.getPropertyValue(`--${varName}`);
                display += `--${varName}: ${value}\n`;
            });
            
            document.getElementById('cssVarDisplay').textContent = display;
        }
        
        function displayComputedStyles() {
            const orgHeader = document.querySelector('.org-header');
            const orgManager = document.querySelector('.org-manager');
            const orgRole = document.querySelector('.org-manager-role');
            
            let display = '';
            
            if (orgHeader) {
                const headerStyle = getComputedStyle(orgHeader);
                display += `org-header font-size: ${headerStyle.fontSize}\n`;
            }
            
            if (orgManager) {
                const managerStyle = getComputedStyle(orgManager);
                display += `org-manager font-size: ${managerStyle.fontSize}\n`;
            }
            
            if (orgRole) {
                const roleStyle = getComputedStyle(orgRole);
                display += `org-manager-role font-size: ${roleStyle.fontSize}\n`;
            }
            
            document.getElementById('computedStyles').textContent = display;
        }
        
        function updateFontSize() {
            const fontSize = document.getElementById('testFontSize').value;
            const fonts = CONFIG.DEFAULTS.FONT_SIZES[fontSize];
            
            console.log('Updating font size to:', fontSize);
            console.log('Font values:', fonts);
            
            ConfigUtils.updateCSSVariables({
                'font-size-org': fonts.org,
                'font-size-name': fonts.name,
                'font-size-role': fonts.role
            });
            
            // Refresh displays
            displayCSSVariables();
            displayComputedStyles();
        }
        
        // Initial display
        window.addEventListener('DOMContentLoaded', () => {
            displayCSSVariables();
            displayComputedStyles();
        });
    </script>
</body>
</html>